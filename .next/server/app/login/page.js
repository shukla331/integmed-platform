(()=>{var e={};e.id=626,e.ids=[626],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6630:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(482),i=r(9108),n=r(2563),a=r.n(n),o=r(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3015)),"C:\\Users\\user\\Desktop\\project medfile\\integmed-frontend\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8062)),"C:\\Users\\user\\Desktop\\project medfile\\integmed-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\user\\Desktop\\project medfile\\integmed-frontend\\app\\login\\page.tsx"],u="/login/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8435:(e,t,r)=>{Promise.resolve().then(r.bind(r,9928))},313:(e,t,r)=>{Promise.resolve().then(r.bind(r,4332))},6447:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},9928:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5344),i=r(3729),n=r(8428),a=r(1453),o=r(8117),l=r(8014);function c(){let e=(0,n.useRouter)(),t=(0,a.t)(e=>e.setUser),[r,c]=(0,i.useState)("mobile"),[d,u]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),[h,x]=(0,i.useState)(""),[g,f]=(0,i.useState)(!1),[y,b]=(0,i.useState)(""),v=async e=>{e.preventDefault(),b(""),f(!0);try{let e=await o.Z.initDoctorAuth(d);x(e.txn_id),c("otp")}catch(e){b(e.response?.data?.detail||"Failed to send OTP. Please try again.")}finally{f(!1)}},j=async r=>{r.preventDefault(),b(""),f(!0);try{let{user:r}=await o.Z.verifyDoctorAuth(h,p);l.Z.set("user",JSON.stringify(r),{expires:7}),t(r),"admin"===r.role?e.push("/admin"):e.push("/dashboard")}catch(e){b(e.response?.data?.detail||"Invalid OTP. Please try again.")}finally{f(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-700 to-primary-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)("h1",{className:"text-4xl font-display font-bold text-primary-900",children:["Integ",s.jsx("span",{className:"text-primary-500",children:"Med"})]}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Integrated Healthcare Platform"})]}),y&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y}),"mobile"===r&&(0,s.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"HPR-Linked Mobile Number"}),s.jsx("input",{type:"tel",value:d,onChange:e=>u(e.target.value),placeholder:"+91 98765 43210",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,pattern:"^\\+91[0-9]{10}$"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter your HPR-registered mobile number"})]}),s.jsx("button",{type:"submit",disabled:g,className:"w-full bg-primary-500 text-white py-3 rounded-lg font-medium hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:g?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending OTP..."]}):"Send OTP"})]}),"otp"===r&&(0,s.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter OTP"}),s.jsx("input",{type:"text",value:p,onChange:e=>m(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"123456",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-center text-2xl tracking-widest font-mono",required:!0,maxLength:6,autoComplete:"one-time-code"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["OTP sent to ",d]})]}),s.jsx("button",{type:"submit",disabled:g||6!==p.length,className:"w-full bg-primary-500 text-white py-3 rounded-lg font-medium hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:g?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify & Login"}),s.jsx("button",{type:"button",onClick:()=>{c("mobile"),m(""),b("")},className:"w-full text-primary-500 text-sm hover:text-primary-700",children:"← Change mobile number"})]}),(0,s.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-100 text-center text-xs text-gray-400",children:[s.jsx("p",{children:"\uD83C\uDFE5 IntegMed • Demo Environment"}),s.jsx("p",{className:"mt-1",children:"Real HPR integration pending government approval"})]}),s.jsx("button",{onClick:()=>{let r={id:"demo-doctor-001",name:"Dr. Priya Sharma",mobile:"+919876543210",email:"priya.sharma@integmed.health",system:"allopathy",qualification:"MBBS, MD (Internal Medicine)",specialization:"Internal Medicine",role:"doctor"};l.Z.set("access_token","demo-token-12345",{expires:7}),l.Z.set("user",JSON.stringify(r),{expires:7}),t(r),e.push("/dashboard")},className:"mt-6 w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200 animate-pulse",children:"\uD83D\uDE80 SKIP LOGIN - GO TO DASHBOARD"}),s.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"(For demo/testing only - bypasses authentication)"})]})})}},4332:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Providers:()=>l});var s=r(5344),i=r(6165),n=r(6274),a=r(3729),o=r(1453);function l({children:e}){let[t]=(0,a.useState)(()=>new i.S({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1}}})),r=(0,o.t)(e=>e.checkAuth);return(0,a.useEffect)(()=>{r()},[r]),s.jsx(n.aH,{client:t,children:e})}},8117:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(1934),i=r(8014);let n="http://localhost:8000";class a{constructor(){this.client=s.Z.create({baseURL:`${n}/api/v1`,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{let t=i.Z.get("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{if(e.response?.status===401){let t=i.Z.get("refresh_token");if(t)try{let{access_token:r}=(await s.Z.post(`${n}/api/v1/auth/refresh`,{refresh_token:t})).data;if(i.Z.set("access_token",r),e.config)return e.config.headers.Authorization=`Bearer ${r}`,this.client.request(e.config)}catch(e){i.Z.remove("access_token"),i.Z.remove("refresh_token"),window.location.href="/login"}else window.location.href="/login"}return Promise.reject(e)})}async initDoctorAuth(e){return(await this.client.post("/auth/doctor/init",{mobile:e,purpose:"login"})).data}async verifyDoctorAuth(e,t){let{access_token:r,refresh_token:s,user:n}=(await this.client.post("/auth/doctor/verify",{txn_id:e,otp:t})).data;return i.Z.set("access_token",r,{expires:1}),i.Z.set("refresh_token",s,{expires:7}),{user:n,access_token:r}}logout(){i.Z.remove("access_token"),i.Z.remove("refresh_token"),window.location.href="/login"}async getPatient(e){return(await this.client.get(`/patients/${e}`)).data}async createPatient(e){return(await this.client.post("/patients",e)).data}async createEncounter(e){return(await this.client.post("/encounters",e)).data}async updateEncounter(e,t){return(await this.client.patch(`/encounters/${e}`,t)).data}async expandShorthand(e){return(await this.client.post("/prescriptions/expand-shorthand",{shorthand:e})).data}async checkInteractions(e){return(await this.client.post("/prescriptions/check-interactions",e)).data}async createPrescription(e){return(await this.client.post("/prescriptions/draft",e)).data}async signPrescription(e){return(await this.client.post(`/prescriptions/${e}/sign`)).data}async getHealthTimeline(e,t){return(await this.client.get(`/clinical/health-graph/${e}`,{params:t})).data}async requestConsent(e){return(await this.client.post("/abdm/consent-requests/init",e)).data}}let o=new a},1453:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var s=r(3158),i=r(8014);let n=(0,s.Ue)(e=>({user:null,isAuthenticated:!1,isLoading:!0,setUser:t=>e({user:t,isAuthenticated:!!t,isLoading:!1}),setLoading:t=>e({isLoading:t}),logout:()=>{i.Z.remove("access_token"),i.Z.remove("refresh_token"),i.Z.remove("user"),e({user:null,isAuthenticated:!1})},checkAuth:()=>{let t=i.Z.get("access_token"),r=i.Z.get("user");if(t&&r)try{let t=JSON.parse(r);e({user:t,isAuthenticated:!0,isLoading:!1})}catch(t){e({user:null,isAuthenticated:!1,isLoading:!1})}else e({user:null,isAuthenticated:!1,isLoading:!1})}}))},8062:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,metadata:()=>u});var s=r(5036),i=r(265),n=r.n(i);r(7272);var a=r(6843);let o=(0,a.createProxy)(String.raw`C:\Users\user\Desktop\project medfile\integmed-frontend\app\providers.tsx`),{__esModule:l,$$typeof:c}=o;o.default;let d=(0,a.createProxy)(String.raw`C:\Users\user\Desktop\project medfile\integmed-frontend\app\providers.tsx#Providers`),u={title:"IntegMed - Integrated Healthcare Platform",description:"Bridging Allopathy and AYUSH for comprehensive patient care"};function p({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:n().className,children:s.jsx(d,{children:e})})})}},3015:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>a});let s=(0,r(6843).createProxy)(String.raw`C:\Users\user\Desktop\project medfile\integmed-frontend\app\login\page.tsx`),{__esModule:i,$$typeof:n}=s,a=s.default},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[941,504],()=>r(6630));module.exports=s})();